{"ast":null,"code":"import _asyncToGenerator from \"/Users/arnavkumar/Desktop/Personal Projects/SportsComparer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { nbaPlayers } from '../nbaPlayers';\nimport { nbaTeams } from '../nbaTeams';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/player.service\";\nimport * as i3 from \"@angular/common/http\";\n\nfunction PlayerFormComponent_div_0_p_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 13);\n    i0.ɵɵtext(1, \"* Please enter a player name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PlayerFormComponent_div_0_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtemplate(1, PlayerFormComponent_div_0_p_8_span_1_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = ctx_r3.playerForm.get(\"playerName\")) == null ? null : tmp_0_0.errors)[\"required\"]);\n  }\n}\n\nfunction PlayerFormComponent_div_0_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"uppercase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" * Please enter a valid \", i0.ɵɵpipeBind1(2, 1, ctx_r4.sport), \" team \");\n  }\n}\n\nfunction PlayerFormComponent_div_0_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" * Please enter a valid season (between 1950-2021) \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PlayerFormComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h1\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function PlayerFormComponent_div_0_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onSubmit();\n    });\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelementStart(5, \"label\", 5);\n    i0.ɵɵtext(6, \"Player Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, PlayerFormComponent_div_0_p_8_Template, 2, 1, \"p\", 0);\n    i0.ɵɵelementStart(9, \"div\", 4);\n    i0.ɵɵelementStart(10, \"label\", 7);\n    i0.ɵɵtext(11, \"Player Team\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, PlayerFormComponent_div_0_p_13_Template, 3, 3, \"p\", 9);\n    i0.ɵɵelementStart(14, \"div\", 4);\n    i0.ɵɵelementStart(15, \"label\", 10);\n    i0.ɵɵtext(16, \"Season\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, PlayerFormComponent_div_0_p_18_Template, 2, 0, \"p\", 9);\n    i0.ɵɵelementStart(19, \"button\", 12);\n    i0.ɵɵtext(20, \"Search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.playerForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"invalid\", !((tmp_2_0 = ctx_r0.playerForm.get(\"playerName\")) == null ? null : tmp_2_0.valid) && ((tmp_2_0 = ctx_r0.playerForm.get(\"playerName\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !((tmp_3_0 = ctx_r0.playerForm.get(\"playerName\")) == null ? null : tmp_3_0.valid) && ((tmp_3_0 = ctx_r0.playerForm.get(\"playerName\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"invalid\", !((tmp_4_0 = ctx_r0.playerForm.get(\"playerTeam\")) == null ? null : tmp_4_0.valid) && ((tmp_4_0 = ctx_r0.playerForm.get(\"playerTeam\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !((tmp_5_0 = ctx_r0.playerForm.get(\"playerTeam\")) == null ? null : tmp_5_0.valid) && ((tmp_5_0 = ctx_r0.playerForm.get(\"playerTeam\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"invalid\", !((tmp_6_0 = ctx_r0.playerForm.get(\"season\")) == null ? null : tmp_6_0.valid) && ((tmp_6_0 = ctx_r0.playerForm.get(\"season\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !((tmp_7_0 = ctx_r0.playerForm.get(\"season\")) == null ? null : tmp_7_0.valid) && ((tmp_7_0 = ctx_r0.playerForm.get(\"season\")) == null ? null : tmp_7_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.playerForm.valid);\n  }\n}\n\nfunction PlayerFormComponent_app_result_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-result\", 14);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"playerNumber\", ctx_r1.playerNumber);\n  }\n}\n\nfunction PlayerFormComponent_app_player_not_found_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-player-not-found\", 14);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"playerNumber\", ctx_r2.playerNumber);\n  }\n}\n\nexport class PlayerFormComponent {\n  constructor(route, playerService, http) {\n    this.route = route;\n    this.playerService = playerService;\n    this.http = http;\n    this.title = '';\n    this.sport = '';\n    this.playerForm = new FormGroup({\n      'playerName': new FormControl('', Validators.required),\n      'playerTeam': new FormControl('', [Validators.required, this.teamValidator]),\n      'season': new FormControl('', [Validators.required, this.yearValidator.bind(this)])\n    });\n    this.submitted = false;\n    this.playerValue = null;\n    this.playerExists = false;\n  }\n\n  ngOnInit() {\n    _asyncToGenerator(function* () {\n      const response = yield fetch('https://www.basketball-reference.com/players/y/youngtr01.html');\n      const text = yield response.text();\n      console.log(text);\n    })();\n\n    this.submitted = false;\n    this.sport = this.route.url.substring(1);\n    this.title = this.playerNumber === 0 ? \"Find the first player\" : \"Find the second player\";\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    this.playerValue = this.playerForm.value;\n    var result = nbaPlayers.filter((v, i) => {\n      return v[\"playerName\"] == this.playerValue.playerName && v[\"playerTeam\"] == this.playerValue.playerTeam && v[\"season\"] == this.playerValue.season;\n    });\n    console.log(result);\n    result.length != 0 ? this.playerExists = true : this.playerExists = false;\n\n    if (this.playerExists) {\n      this.playerService.setCurrentPlayer(result[0], this.playerNumber);\n      this.playerService.isFull();\n    }\n  }\n\n  yearValidator(control) {\n    if (control.value.trim().length === 0) {\n      return null;\n    }\n\n    const year = parseInt(control.value, 10);\n    const minYear = 1950;\n    const maxYear = 2021;\n    if (year >= minYear && year <= maxYear) return null;else {\n      return {\n        year: {\n          min: minYear,\n          max: maxYear\n        }\n      };\n    }\n  }\n\n  teamValidator(control) {\n    if (control.value.trim().length === 0) {\n      return null;\n    }\n\n    if (nbaTeams.indexOf(control.value) === -1) {\n      console.log(control.value);\n      console.log(\"reached problem\");\n      return {\n        'notValidTeam': true\n      };\n    }\n\n    return null;\n  }\n\n}\n\nPlayerFormComponent.ɵfac = function PlayerFormComponent_Factory(t) {\n  return new (t || PlayerFormComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PlayerService), i0.ɵɵdirectiveInject(i3.HttpClient));\n};\n\nPlayerFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PlayerFormComponent,\n  selectors: [[\"app-player-form\"]],\n  inputs: {\n    playerNumber: \"playerNumber\"\n  },\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"playerNumber\", 4, \"ngIf\"], [1, \"find-title\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"playerName\"], [\"type\", \"text\", \"id\", \"playerName\", \"formControlName\", \"playerName\", 1, \"form-control\"], [\"for\", \"playerTeam\"], [\"type\", \"text\", \"id\", \"playerTeam\", \"formControlName\", \"playerTeam\", 1, \"form-control\"], [\"class\", \"errorMsg\", 4, \"ngIf\"], [\"for\", \"season\"], [\"type\", \"text\", \"id\", \"season\", \"formControlName\", \"season\", \"maxlength\", \"4\", 1, \"form-control\", \"season-ctrl\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"disabled\"], [1, \"errorMsg\"], [3, \"playerNumber\"]],\n  template: function PlayerFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PlayerFormComponent_div_0_Template, 21, 12, \"div\", 0);\n      i0.ɵɵtemplate(1, PlayerFormComponent_app_result_1_Template, 1, 1, \"app-result\", 1);\n      i0.ɵɵtemplate(2, PlayerFormComponent_app_player_not_found_2_Template, 1, 1, \"app-player-not-found\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.submitted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.playerExists);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitted && !ctx.playerExists);\n    }\n  },\n  styles: [\".form-group[_ngcontent-%COMP%] {\\n    padding-bottom: 5%;\\n}\\n.btn[_ngcontent-%COMP%] {\\n    margin-top: 15%;\\n    margin-bottom: 25%;\\n    margin-left: 45%;\\n}\\n.season-ctrl[_ngcontent-%COMP%] {\\n    width: 30%;\\n}\\n.errorMsg[_ngcontent-%COMP%] {\\n    color: red;\\n}\\n.invalid[_ngcontent-%COMP%] {\\n    border-color: red;\\n}\\n.find-title[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding-top: 10%;\\n    font-size: 2.5rem;\\n    padding-bottom: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXllci1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxVQUFVO0FBQ2Q7QUFDQTtJQUNJLFVBQVU7QUFDZDtBQUNBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkIiLCJmaWxlIjoicGxheWVyLWZvcm0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWdyb3VwIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogNSU7XG59XG4uYnRuIHtcbiAgICBtYXJnaW4tdG9wOiAxNSU7XG4gICAgbWFyZ2luLWJvdHRvbTogMjUlO1xuICAgIG1hcmdpbi1sZWZ0OiA0NSU7XG59XG4uc2Vhc29uLWN0cmwge1xuICAgIHdpZHRoOiAzMCU7XG59XG4uZXJyb3JNc2cge1xuICAgIGNvbG9yOiByZWQ7XG59XG4uaW52YWxpZCB7XG4gICAgYm9yZGVyLWNvbG9yOiByZWQ7XG59XG4uZmluZC10aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmctdG9wOiAxMCU7XG4gICAgZm9udC1zaXplOiAyLjVyZW07XG4gICAgcGFkZGluZy1ib3R0b206IDEwJTtcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["/Users/arnavkumar/Desktop/Personal Projects/SportsComparer/src/app/player-form/player-form.component.ts","/Users/arnavkumar/Desktop/Personal Projects/SportsComparer/src/app/player-form/player-form.component.html"],"names":[],"mappings":";AAGA,SAA0B,WAA1B,EAAuC,SAAvC,EAAkD,UAAlD,QAAoE,gBAApE;AAEA,SAAS,UAAT,QAA2B,eAA3B;AACA,SAAS,QAAT,QAAwB,aAAxB;;;;;;;;ACMY,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA;AAAiF,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,8BAAA;AAA4B,IAAA,EAAA,CAAA,YAAA;;;;;;AADjH,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA;AACI,IAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,6CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA;AACH,IAAA,EAAA,CAAA,YAAA;;;;;;AADU,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,MAAA,EAAA,UAAA,CAAA;;;;;;AAQX,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACG,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;;AACH,IAAA,EAAA,CAAA,YAAA;;;;;AADG,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,kBAAA,CAAA,0BAAA,EAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,KAAA,CAAA,EAAA,QAAA;;;;;;AASH,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACI,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,qDAAA;AACH,IAAA,EAAA,CAAA,YAAA;;;;;;;;AAhCT,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA;AAAwB,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AAAS,IAAA,EAAA,CAAA,YAAA;AACjC,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA;AAA+B,IAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,SAAA,2DAAA,GAAA;AAAA,MAAA,EAAA,CAAA,aAAA,CAAA,GAAA;AAAA,YAAA,MAAA,GAAA,EAAA,CAAA,aAAA,EAAA;AAAA,aAAA,MAAA,CAAA,QAAA,EAAA;AAAA,KAAA;AAC3B,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA,EAAA,CAAA;AAAwB,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,aAAA;AAAW,IAAA,EAAA,CAAA,YAAA;AACnC,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,OAAA,EAAA,CAAA;AAKJ,IAAA,EAAA,CAAA,YAAA;AACA,IAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,sCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAGA,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAwB,IAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,aAAA;AAAW,IAAA,EAAA,CAAA,YAAA;AACnC,IAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAGJ,IAAA,EAAA,CAAA,YAAA;AACA,IAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,uCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAGA,IAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAAoB,IAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,QAAA;AAAM,IAAA,EAAA,CAAA,YAAA;AAC1B,IAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAIJ,IAAA,EAAA,CAAA,YAAA;AACA,IAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,uCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAGA,IAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AAAoF,IAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,QAAA;AAAM,IAAA,EAAA,CAAA,YAAA;AAC9F,IAAA,EAAA,CAAA,YAAA;AACJ,IAAA,EAAA,CAAA,YAAA;;;;;;;;;;;AAlC4B,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,iBAAA,CAAA,MAAA,CAAA,KAAA;AAClB,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,WAAA,EAAA,MAAA,CAAA,UAAA;AAOE,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,WAAA,CAAA,SAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAOA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,WAAA,CAAA,SAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,YAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAOA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,WAAA,CAAA,SAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAGA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAGI,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,CAAA,MAAA,CAAA,UAAA,CAAA,KAAA;;;;;;AAGhB,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,YAAA,EAAA,EAAA;;;;;AAA8C,IAAA,EAAA,CAAA,UAAA,CAAA,cAAA,EAAA,MAAA,CAAA,YAAA;;;;;;AAC9C,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,sBAAA,EAAA,EAAA;;;;;AAAyD,IAAA,EAAA,CAAA,UAAA,CAAA,cAAA,EAAA,MAAA,CAAA,YAAA;;;;ADvBzD,OAAM,MAAO,mBAAP,CAA0B;AAmB9B,EAAA,WAAA,CAAoB,KAApB,EAA2C,aAA3C,EACU,IADV,EAC0B;AADN,SAAA,KAAA,GAAA,KAAA;AAAuB,SAAA,aAAA,GAAA,aAAA;AACjC,SAAA,IAAA,GAAA,IAAA;AAjBV,SAAA,KAAA,GAAgB,EAAhB;AAEA,SAAA,KAAA,GAAgB,EAAhB;AAEA,SAAA,UAAA,GAAwB,IAAI,SAAJ,CAAc;AACpC,oBAAc,IAAI,WAAJ,CAAgB,EAAhB,EAAoB,UAAU,CAAC,QAA/B,CADsB;AAEpC,oBAAc,IAAI,WAAJ,CAAgB,EAAhB,EAAoB,CAAC,UAAU,CAAC,QAAZ,EAAsB,KAAK,aAA3B,CAApB,CAFsB;AAGpC,gBAAU,IAAI,WAAJ,CAAgB,EAAhB,EAAoB,CAAC,UAAU,CAAC,QAAZ,EAAsB,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CAAtB,CAApB;AAH0B,KAAd,CAAxB;AAMA,SAAA,SAAA,GAAY,KAAZ;AAEA,SAAA,WAAA,GAAmB,IAAnB;AAEA,SAAA,YAAA,GAAe,KAAf;AAIC;;AAED,EAAA,QAAQ,GAAA;AACN,sBAAC,aAAW;AACV,YAAM,QAAQ,SAAS,KAAK,CAAC,+DAAD,CAA5B;AACA,YAAM,IAAI,SAAS,QAAQ,CAAC,IAAT,EAAnB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACD,KAJD;;AAMA,SAAK,SAAL,GAAiB,KAAjB;AACA,SAAK,KAAL,GAAa,KAAK,KAAL,CAAW,GAAX,CAAe,SAAf,CAAyB,CAAzB,CAAb;AACA,SAAK,KAAL,GAAa,KAAK,YAAL,KAAsB,CAAtB,GAA0B,uBAA1B,GAAoD,wBAAjE;AACD;;AAED,EAAA,QAAQ,GAAA;AACN,SAAK,SAAL,GAAiB,IAAjB;AACA,SAAK,WAAL,GAAmB,KAAK,UAAL,CAAgB,KAAnC;AACA,QAAI,MAAM,GAAG,UAAU,CAAC,MAAX,CAAkB,CAAC,CAAD,EAAI,CAAJ,KAAS;AACtC,aAAS,CAAC,CAAC,YAAD,CAAD,IAAmB,KAAK,WAAL,CAAiB,UAApC,IACC,CAAC,CAAC,YAAD,CAAD,IAAmB,KAAK,WAAL,CAAiB,UADtC,IAEE,CAAC,CAAC,QAAD,CAAD,IAAe,KAAK,WAAL,CAAiB,MAF1C;AAGD,KAJY,CAAb;AAKA,IAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,IAAA,MAAM,CAAC,MAAP,IAAiB,CAAjB,GAAqB,KAAK,YAAL,GAAoB,IAAzC,GAA+C,KAAK,YAAL,GAAoB,KAAnE;;AACA,QAAI,KAAK,YAAT,EAAuB;AACrB,WAAK,aAAL,CAAmB,gBAAnB,CAAoC,MAAM,CAAC,CAAD,CAA1C,EAA+C,KAAK,YAApD;AACA,WAAK,aAAL,CAAmB,MAAnB;AACD;AAGF;;AAED,EAAA,aAAa,CAAC,OAAD,EAAyB;AACpC,QAAI,OAAO,CAAC,KAAR,CAAc,IAAd,GAAqB,MAArB,KAAgC,CAApC,EAAuC;AACrC,aAAO,IAAP;AACD;;AACD,UAAM,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAT,EAAgB,EAAhB,CAArB;AACA,UAAM,OAAO,GAAG,IAAhB;AACA,UAAM,OAAO,GAAG,IAAhB;AACA,QAAI,IAAI,IAAI,OAAR,IAAmB,IAAI,IAAI,OAA/B,EACE,OAAO,IAAP,CADF,KAEK;AACH,aAAO;AAAE,QAAA,IAAI,EAAE;AACb,UAAA,GAAG,EAAE,OADQ;AAEb,UAAA,GAAG,EAAE;AAFQ;AAAR,OAAP;AAID;AACF;;AAED,EAAA,aAAa,CAAC,OAAD,EAAqB;AAChC,QAAI,OAAO,CAAC,KAAR,CAAc,IAAd,GAAqB,MAArB,KAAgC,CAApC,EAAuC;AACrC,aAAO,IAAP;AACD;;AACD,QAAI,QAAQ,CAAC,OAAT,CAAiB,OAAO,CAAC,KAAzB,MAAoC,CAAC,CAAzC,EAA4C;AAC1C,MAAA,OAAO,CAAC,GAAR,CAAY,OAAO,CAAC,KAApB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ;AACA,aAAO;AAAC,wBAAgB;AAAjB,OAAP;AACD;;AAED,WAAO,IAAP;AACD;;AAjF6B;;;mBAAnB,mB,EAAmB,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,aAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;QAAnB,mB;AAAmB,EAAA,SAAA,EAAA,CAAA,CAAA,iBAAA,CAAA,C;AAAA,EAAA,MAAA,EAAA;AAAA,IAAA,YAAA,EAAA;AAAA,G;AAAA,EAAA,KAAA,EAAA,C;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,cAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,WAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,CAAA,EAAA,cAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,CAAA,EAAA,cAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,KAAA,EAAA,QAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,QAAA,EAAA,WAAA,EAAA,GAAA,EAAA,CAAA,EAAA,cAAA,EAAA,aAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,cAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,4BAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;ACdhC,MAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,kCAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AAoCA,MAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,CAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,mDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,sBAAA,EAAA,CAAA;;;;AArCM,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,GAAA,CAAA,SAAA;AAoCO,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,SAAA,IAAA,GAAA,CAAA,YAAA;AACU,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,SAAA,IAAA,CAAA,GAAA,CAAA,YAAA","sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport {from} from 'rxjs';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { AbstractControl, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { nbaPlayers } from '../nbaPlayers';\nimport { nbaTeams} from '../nbaTeams';\nimport { PlayerService } from '../services/player.service';\n\n@Component({\n  selector: 'app-player-form',\n  templateUrl: './player-form.component.html',\n  styleUrls: ['./player-form.component.css']\n})\nexport class PlayerFormComponent implements OnInit {\n  @Input() playerNumber!: any;\n  \n  title: string = '';\n\n  sport: string = '';\n\n  playerForm: FormGroup = new FormGroup({\n    'playerName': new FormControl('', Validators.required),\n    'playerTeam': new FormControl('', [Validators.required, this.teamValidator]),\n    'season': new FormControl('', [Validators.required, this.yearValidator.bind(this)])\n  });\n\n  submitted = false;\n\n  playerValue: any = null;\n\n  playerExists = false;\n\n  constructor(private route: Router, private playerService: PlayerService,\n    private http: HttpClient) {\n  }\n\n  ngOnInit(): void {\n    (async () => {\n      const response = await fetch('https://www.basketball-reference.com/players/y/youngtr01.html');\n      const text = await response.text();\n      console.log(text);\n    })();\n\n    this.submitted = false;\n    this.sport = this.route.url.substring(1);\n    this.title = this.playerNumber === 0 ? \"Find the first player\" : \"Find the second player\";\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    this.playerValue = this.playerForm.value;\n    var result = nbaPlayers.filter((v, i) => {\n      return ((v[\"playerName\"] == this.playerValue.playerName\n             && v[\"playerTeam\"] == this.playerValue.playerTeam) \n             && v[\"season\"] == this.playerValue.season);\n    });\n    console.log(result);\n    result.length != 0 ? this.playerExists = true: this.playerExists = false;\n    if (this.playerExists) {\n      this.playerService.setCurrentPlayer(result[0], this.playerNumber);\n      this.playerService.isFull();\n    }\n   \n    \n  }\n\n  yearValidator(control: AbstractControl) {\n    if (control.value.trim().length === 0) {\n      return null;\n    }\n    const year = parseInt(control.value, 10);\n    const minYear = 1950;\n    const maxYear = 2021;\n    if (year >= minYear && year <= maxYear)\n      return null;\n    else {\n      return { year: {\n        min: minYear,\n        max: maxYear\n      } };\n    }\n  }\n\n  teamValidator(control: FormControl) : {[s: string]: boolean} | null{\n    if (control.value.trim().length === 0) {\n      return null;\n    }\n    if (nbaTeams.indexOf(control.value) === -1) {\n      console.log(control.value);\n      console.log(\"reached problem\");\n      return {'notValidTeam': true};\n    }\n \n    return null;\n  }\n}\n","<div *ngIf=\"!submitted\">\n    <h1 class= \"find-title\">{{title}}</h1>\n    <form [formGroup]=\"playerForm\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"form-group\">\n            <label for=\"playerName\">Player Name</label>\n            <input type=\"text\"\n            id=\"playerName\"\n            class=\"form-control\"\n            formControlName=\"playerName\"\n            [class.invalid]=\"!playerForm.get('playerName')?.valid  && playerForm.get('playerName')?.touched\">\n        </div>\n        <p *ngIf=\"!playerForm.get('playerName')?.valid && playerForm.get('playerName')?.touched\">\n            <span *ngIf=\"playerForm.get('playerName')?.errors!['required']\" class=\"errorMsg\">* Please enter a player name</span>     \n         </p>\n        <div class=\"form-group\">\n            <label for=\"playerTeam\">Player Team</label>\n            <input type=\"text\" id=\"playerTeam\" class=\"form-control\"\n            formControlName=\"playerTeam\"\n            [class.invalid]=\"!playerForm.get('playerTeam')?.valid  && playerForm.get('playerTeam')?.touched\">\n        </div>\n        <p *ngIf=\"!playerForm.get('playerTeam')?.valid && playerForm.get('playerTeam')?.touched\" class=\"errorMsg\">\n           * Please enter a valid {{sport | uppercase}} team\n        </p>\n        <div class=\"form-group\">\n            <label for=\"season\">Season</label>\n            <input type=\"text\" id=\"season\" class=\"form-control season-ctrl\"\n            formControlName=\"season\"\n            [class.invalid]=\"!playerForm.get('season')?.valid  && playerForm.get('season')?.touched\"\n            maxlength=4>\n        </div>\n        <p *ngIf=\"!playerForm.get('season')?.valid && playerForm.get('season')?.touched\" class=\"errorMsg\">\n            * Please enter a valid season (between 1950-2021)\n         </p>\n        <button [disabled]=\"!playerForm.valid\" class=\"btn btn-primary btn-lg\" type=\"submit\">Search</button>\n    </form>\n</div>\n<app-result *ngIf=\"submitted && playerExists\" [playerNumber]=\"playerNumber\"></app-result>\n<app-player-not-found *ngIf=\"submitted && !playerExists\" [playerNumber]=\"playerNumber\"></app-player-not-found>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}